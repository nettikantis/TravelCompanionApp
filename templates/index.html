{% extends 'base.html' %}
{% block content %}
<div class="row g-4">
  <div class="col-12">
    <div class="card shadow-sm">
      <div class="card-body">
        <form id="search-form" class="row g-2 align-items-center">
          <div class="col-md-6">
            <label for="location-input" class="form-label">Search a city or place</label>
            <input type="text" class="form-control" id="location-input" placeholder="e.g., Paris, Tokyo, New York" value="{{ q }}" />
          </div>
          <div class="col-md-3">
            <label for="query-type" class="form-label">Place Type</label>
            <select id="query-type" class="form-select">
              <option value="attraction">Attractions</option>
              <option value="park">Parks</option>
              <option value="restaurant" selected>Restaurants</option>
              <option value="cafe">Cafes</option>
              <option value="museum">Museums</option>
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label">&nbsp;</label>
            <div>
              <button class="btn btn-primary" type="submit">Explore</button>
              <button class="btn btn-outline-secondary" id="use-my-location" type="button">Use My Location</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="col-12 col-lg-7">
    <div class="card shadow-sm h-100">
      <div class="card-header bg-white">
        <strong>Map</strong>
      </div>
      <div class="card-body p-0">
        <div id="map" style="height: 420px;"></div>
      </div>
    </div>
  </div>

  <div class="col-12 col-lg-5">
    <div class="card shadow-sm h-100">
      <div class="card-header bg-white d-flex justify-content-between align-items-center">
        <strong>Weather</strong>
        <span id="weather-location" class="text-muted small"></span>
      </div>
      <div class="card-body">
        <div id="current-weather" class="mb-3"></div>
        <canvas id="weather-chart" height="160"></canvas>
      </div>
    </div>
  </div>

  <div class="col-12">
    <div class="card shadow-sm">
      <div class="card-header bg-white d-flex align-items-center justify-content-between">
        <strong>Nearby Places</strong>
        <div class="d-flex align-items-center gap-2">
          <span class="text-muted small" id="places-count"></span>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="toggle-foursquare" />
            <label class="form-check-label" for="toggle-foursquare">Prefer Foursquare</label>
          </div>
        </div>
      </div>
      <div class="card-body">
        <div id="places-grid" class="row g-3"></div>
      </div>
    </div>
  </div>

  <div class="col-12 col-lg-8">
    <div class="card shadow-sm h-100">
      <div class="card-header bg-white"><strong>Travel Cost Estimator</strong></div>
      <div class="card-body">
        <form id="travel-form" class="row g-2 align-items-end">
          <div class="col-md-4">
            <label class="form-label">Mode</label>
            <select class="form-select" id="travel-mode">
              <option value="driving" selected>Driving</option>
              <option value="walking">Walking</option>
              <option value="cycling">Cycling</option>
              <option value="taxi">Taxi (estimate)</option>
            </select>
          </div>
          <div class="col-md-4">
            <label class="form-label">Destination</label>
            <input id="dest-name" class="form-control" placeholder="Click a place card" disabled />
          </div>
          <div class="col-md-4">
            <button class="btn btn-success w-100" type="submit">Estimate</button>
          </div>
        </form>
        <div class="mt-3">
          <canvas id="cost-chart" height="160"></canvas>
          <div id="travel-stats" class="mt-2 text-muted small"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-12 col-lg-4">
    <div class="card shadow-sm h-100">
      <div class="card-header bg-white d-flex align-items-center justify-content-between">
        <strong>Bookmarks</strong>
        <button class="btn btn-sm btn-outline-primary" id="refresh-bookmarks">Refresh</button>
      </div>
      <div class="card-body">
        <div id="bookmarks-list" class="list-group small"></div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% extends 'base.html' %}
{% block content %}
<div class="row g-3 align-items-center mb-3">
  <div class="col-sm-8">
    <input id="cityInput" type="text" class="form-control form-control-lg" placeholder="Search a city (e.g., Paris)" />
  </div>
  <div class="col-sm-4 d-grid">
    <button id="searchBtn" class="btn btn-primary btn-lg">Search</button>
  </div>
</div>

<div class="row g-4">
  <div class="col-lg-8">
    <div id="map" class="card">
      <div class="card-header">Map</div>
      <div class="card-body p-0">
        <div id="mapContainer"></div>
      </div>
    </div>

    <div class="card mt-4">
      <div class="card-header">Weather Forecast</div>
      <div class="card-body">
        <canvas id="weatherChart" height="120"></canvas>
      </div>
    </div>

    <div class="card mt-4">
      <div class="card-header">Travel Cost Estimator</div>
      <div class="card-body">
        <div class="row g-2 mb-3">
          <div class="col-md-4">
            <select id="modeSelect" class="form-select">
              <option value="driving-car" selected>Driving (Car)</option>
              <option value="cycling-regular">Cycling</option>
              <option value="foot-walking">Walking</option>
            </select>
          </div>
          <div class="col-md-8">
            <div class="input-group">
              <input id="destInput" type="text" class="form-control" placeholder="Destination city (e.g., Versailles)" />
              <button id="costBtn" class="btn btn-outline-primary">Estimate</button>
            </div>
          </div>
        </div>
        <canvas id="costChart" height="120"></canvas>
        <div class="mt-2" id="routeStats" ></div>
      </div>
    </div>
  </div>

  <div class="col-lg-4">
    <div class="card mb-4">
      <div class="card-header">Place Recommendations</div>
      <div class="card-body">
        <div class="btn-group mb-3" role="group">
          <button class="btn btn-sm btn-outline-secondary place-filter" data-cat="attractions">Attractions</button>
          <button class="btn btn-sm btn-outline-secondary place-filter" data-cat="parks">Parks</button>
          <button class="btn btn-sm btn-outline-secondary place-filter" data-cat="restaurants">Restaurants</button>
          <button class="btn btn-sm btn-outline-secondary place-filter" data-cat="cafes">Cafes</button>
        </div>
        <div id="places" class="row row-cols-1 g-3"></div>
      </div>
    </div>

    <div class="card">
      <div class="card-header d-flex justify-content-between align-items-center">
        <span>Bookmarks</span>
        <button id="refreshBookmarks" class="btn btn-sm btn-outline-secondary">Refresh</button>
      </div>
      <div class="card-body" id="bookmarks"></div>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/main.js"></script>
{% endblock %}